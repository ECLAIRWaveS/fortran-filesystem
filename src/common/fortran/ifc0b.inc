N = fun
end associate
allocate(character(N) :: r)
r = cbuf(:N)
